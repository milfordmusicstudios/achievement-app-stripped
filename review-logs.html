<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Review Logs | Achievement App</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css?v=20260121-1">
  <link rel="stylesheet" href="nav.css">
</head>
<body class="app-shell tall-background review-logs-page">
  <div class="app-main">
<div id="envBadge" class="env-badge" style="display:none;"></div>

  <main class="app">

    <header id="pageHeader" class="review-header">
      <h2 class="review-title">Review Points</h2>
      <img id="reviewRoleBadge" class="review-role-badge" src="" alt="Role badge">
    </header>

    <section id="categorySummary" class="summary-strip"></section>

    <div class="filter-toolbar">
      <div class="filter-left">
        <input id="searchInput" type="text" placeholder="Search logs...">
      </div>
      <div class="filter-right">
        <div class="view-toggle">
          <button id="showLogsBtn" class="blue-button">Logs</button>
          <button id="showNotificationsBtn" class="blue-button">Notifications</button>
        </div>
        <button id="quickAddBtn" class="blue-button">Quick Add</button>
      </div>
    </div>

    <div id="notificationsSection" class="notifications-panel" style="display:none;"></div>

    <div id="bulkApprovePanel" class="bulk-approve-panel" style="display:none;">
      <label>Points to assign:
        <input type="number" id="bulkPoints">
      </label>
      <button id="confirmBulkApprove" class="blue-button">Confirm</button>
      <button id="cancelBulkApprove" class="blue-button" style="background:#999;">Cancel</button>
    </div>

    <div id="logsWrapper" class="logs-table-wrap">
      <table id="logsHeaderTable">
        <thead>
          <tr>
            <th><input type="checkbox" id="selectAll"></th>
            <th data-sort="fullName">Student</th>
            <th data-sort="category">Category</th>
            <th data-sort="date">Date</th>
            <th data-sort="points">Points</th>
            <th>Note</th>
            <th data-sort="status">Status</th>
          </tr>
        </thead>
      </table>

      <table id="logsTable">
        <tbody id="logsTableBody"></tbody>
      </table>
    </div>

    <div id="bulkActionBar" class="bulk-action-bar" style="display:none;">
      <button id="bulkApproveBtn" class="blue-button">Approve Selected</button>
      <button id="deleteSelectedBtn" class="blue-button" style="background:#d9534f;">Delete Selected</button>
    </div>

    <div id="paginationControls" class="pagination-row">
      <div class="pager-controls">
        <button id="prevPageBtn" class="blue-button">Prev</button>
        <span id="pageInfo"></span>
        <button id="nextPageBtn" class="blue-button">Next</button>
        <select id="logsPerPage" class="blue-button">
          <option value="25">25</option>
          <option value="50" selected>50</option>
          <option value="100">100</option>
        </select>
      </div>
    </div>

    <div id="quickAddModal" class="modal" style="display:none;
      position:fixed; top:0; left:0; width:100%; height:100%;
      background:rgba(0,0,0,0.6); z-index:10000; justify-content:center; align-items:center;">
      <div class="modal-content" style="background:white; padding:20px; border-radius:10px; width:90%; max-width:500px;">
        <h3 style="text-align:center; color:#00477d;">Quick Add Points</h3>
        <div style="max-height:400px; overflow-y:auto; margin-bottom:10px;">
          <label><b>Select Students:</b></label>
          <div id="quickAddStudentsList" style="display:flex; flex-direction:column; gap:5px; margin:10px 0;"></div>
        </div>

        <label><b>Category:</b></label>
        <select id="quickAddCategory" class="white-input" style="width:100%; margin-bottom:10px;">
          <option value="">Select category</option>
          <option value="practice">Practice</option>
          <option value="participation">Participation</option>
          <option value="performance">Performance</option>
          <option value="personal">Personal</option>
          <option value="proficiency">Proficiency</option>
        </select>

        <label><b>Date:</b></label>
        <input type="date" id="quickAddDate" class="white-input" style="width:100%; margin-bottom:10px;" />

        <label><b>Points:</b></label>
        <input type="number" id="quickAddPoints" class="white-input" placeholder="Enter points" style="width:100%; margin-bottom:10px;" />

        <label><b>Notes:</b></label>
        <textarea id="quickAddNotes" class="white-input" placeholder="Optional note" style="width:100%; margin-bottom:15px;"></textarea>

        <div style="display:flex; justify-content:center; gap:15px;">
          <button id="quickAddSubmit" class="blue-button">Submit</button>
          <button id="quickAddCancel" class="blue-button" style="background:#999;">Cancel</button>
        </div>
      </div>
    </div>

  </main>
  </div>

  <div id="app-bottom-nav"></div>
  <script type="module" src="nav.js"></script>
  <script type="module" src="review-logs.js"></script>
</body>
</html>
